"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(a,t,i){return t&&e(a.prototype,t),i&&e(a,i),a}}(),WikipediaViewer=function(){function e(){_classCallCheck(this,e),this.$articles=$(".article-js"),this.cardTemplate='<div class="col s12 m12 l6">                <div class="card horizontal hoverable">                    <div class="card-stacked">                        <div class="card-content">                            <p></p>                        </div>                        <div class="card-action">                            <a href="#" target="_blank"></a>                        </div>                    </div>                </div>            </div>',this.apiLink="https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=6&prop=pageimages|extracts&pilimit=max&pithumbsize=80&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch="}return _createClass(e,[{key:"cleanArticles",value:function(){this.$articles.empty()}},{key:"insertToast",value:function(e){var a=$("<span>"+e+"</span>");Materialize.toast(a,5e3)}},{key:"insertNewCard",value:function(){this.$articles.append(this.cardTemplate)}},{key:"getWikiArticles",value:function(){var e=$("#search").val(),a=this.apiLink+e,t="https://en.wikipedia.org/?curid=",i=this;$.ajax({url:a,type:"GET",dataType:"jsonp",success:function(e){var a=0;i.cleanArticles();for(var r in e.query.pages)i.insertNewCard(),$(".card-content:eq("+a+")").children().text(e.query.pages[r].extract),$(".card-action:eq("+a+")").children().attr("href",t+r).text(e.query.pages[r].title),$(".card-content:eq("+a+")").children().shave(30),$(".card-action:eq("+a+")").children().shave(20),++a},error:function(){i.insertToast("We couldn't get any article")}})}},{key:"searchArticles",value:function(){var e=this;$("#search").bind("input",function(a){a.preventDefault(),""!==$("#search").val()?(e.cleanArticles(),e.getWikiArticles()):(e.insertToast("Insert some text"),e.cleanArticles())})}}]),e}();$(function(){var e=new WikipediaViewer;e.searchArticles()});